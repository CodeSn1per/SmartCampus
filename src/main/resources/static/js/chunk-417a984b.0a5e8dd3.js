(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-417a984b"],{6600:function(e,t,a){"use strict";a("ac4c")},"86a2":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search-div"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.riskAreaParam}},[a("el-form-item",{attrs:{label:"地区"}},[a("el-input",{attrs:{size:"small",clearable:""},model:{value:e.riskAreaParam.area,callback:function(t){e.$set(e.riskAreaParam,"area",t)},expression:"riskAreaParam.area"}})],1),a("el-form-item",{staticStyle:{"margin-left":"20px"},attrs:{label:"风险等级"}},[a("el-select",{attrs:{size:"small",clearable:"",placeholder:""},model:{value:e.riskAreaParam.riskLevel,callback:function(t){e.$set(e.riskAreaParam,"riskLevel",t)},expression:"riskAreaParam.riskLevel"}},[a("el-option",{attrs:{label:"低风险",value:"1"}}),a("el-option",{attrs:{label:"中风险",value:"2"}}),a("el-option",{attrs:{label:"高风险",value:"3"}})],1)],1),a("el-form-item",[a("el-tooltip",{attrs:{content:"查询",effect:"dark"}},[a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"small"},on:{click:e.initList}},[a("i",{staticClass:"fa fa-search"})])],1)],1)],1)],1),a("div",{staticClass:"table-div"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"},data:e.riskAreaList,stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{prop:"area",label:"地区"}}),a("el-table-column",{attrs:{prop:"riskLevel",label:"风险等级"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),a("el-table-column",{attrs:{prop:"updateTime",label:"发布时间"}}),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.getDetail(t.row)}}},[e._v("查看 ")]),e.editButton?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.showEditPage(t.row)}}},[e._v("编辑 ")]):e._e()]}}])})],1)]],2),a("div",{staticStyle:{float:"right"}},[a("el-pagination",{attrs:{"current-page":e.pageParam.pageNum,"page-size":e.pageParam.pageSize,total:e.pageParam.total,background:"",layout:"total,prev, pager, next"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"风险地区",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.riskArea,size:"mini",disabled:e.disabled}},[a("el-row",[a("el-col",{attrs:{span:9,offset:2}},[a("el-form-item",{attrs:{label:"地区:"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.riskArea.area,callback:function(t){e.$set(e.riskArea,"area",t)},expression:"riskArea.area"}})],1)],1),a("el-col",{attrs:{span:9,offset:2}},[a("el-form-item",{attrs:{label:"区划编码:"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.riskArea.areaCode,callback:function(t){e.$set(e.riskArea,"areaCode",t)},expression:"riskArea.areaCode"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:9,offset:2}},[a("el-form-item",{attrs:{label:"风险等级:"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.riskArea.riskLevel,callback:function(t){e.$set(e.riskArea,"riskLevel",t)},expression:"riskArea.riskLevel"}})],1)],1),a("el-col",{attrs:{span:9,offset:2}},[a("el-form-item",{attrs:{label:"发布时间:"}},[a("el-date-picker",{attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",disabled:""},model:{value:e.riskArea.createTime,callback:function(t){e.$set(e.riskArea,"createTime",t)},expression:"riskArea.createTime"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:20,offset:2}},[a("el-form-item",{attrs:{label:"备注:"}},[a("el-input",{attrs:{size:"mini",type:"textarea"},model:{value:e.riskArea.remark,callback:function(t){e.$set(e.riskArea,"remark",t)},expression:"riskArea.remark"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:10,offset:9}},[e.hasButton?a("div",[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.updateRiskArea}},[e._v("确 定")])],1):e._e()])],1)],1)],1)],1)},r=[],s=a("b775"),l={name:"RiskArea",created:function(){this.initList(),this.cancelEditButton()},data:function(){return{riskAreaParam:{id:"",area:"",riskLevel:""},pageParam:{pageNum:1,pageSize:10,total:0},riskAreaList:[],riskArea:{id:"",area:"",areaCode:"",riskLevel:"",remark:"",updateTime:"",createTime:""},dialogVisible:!1,disabled:!1,hasButton:!1,editButton:!0,userInfo:{userId:""}}},methods:{handleSizeChange:function(e){this.pageParam.pageSize=e,this.initApplyRecordList()},handleCurrentChange:function(e){this.pageParam.pageNum=e,this.initApplyRecordList()},initList:function(){var e=this,t=Object.assign(this.riskAreaParam,this.pageParam);Object(s["a"])("/riskArea/getRiskAreaList",t).then((function(t){t&&(e.riskAreaList=t.data.list,e.pageParam.total=t.data.total)}))},getDetail:function(e){var t=this;this.dialogVisible=!0,this.disabled=!0,this.hasButton=!1,Object(s["a"])("/riskArea/getRiskAreaDetail",e).then((function(e){t.riskArea=e.data}))},showEditPage:function(e){this.getDetail(e),this.dialogVisible=!0,this.disabled=!1,this.hasButton=!0},updateRiskArea:function(){var e=this;Object(s["a"])("/riskArea/updateRiskArea",this.riskArea).then((function(t){t&&(e.dialogVisible=!1,e.initList(),e.dialogVisible=!1),e.$message.success("编辑成功")}))},cancelEditButton:function(){var e=this;this.userInfo=JSON.parse(window.sessionStorage.getItem("user")).data,Object(s["a"])("/user/getPersonalInfo",this.userInfo).then((function(t){console.log(t),"2"===t.data.roleId?e.editButton=!0:e.editButton=!1}))}}},n=l,o=(a("6600"),a("2877")),c=Object(o["a"])(n,i,r,!1,null,"a511a9d2",null);t["default"]=c.exports},ac4c:function(e,t,a){}}]);
//# sourceMappingURL=chunk-417a984b.0a5e8dd3.js.map